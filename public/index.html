<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Virtual Model Hub</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{background:black;color:white;font-family:Arial;text-align:center;padding:20px;}
.creator-card{margin:10px;padding:10px;border:1px solid #333;border-radius:10px;}
a{color:white;text-decoration:none;font-weight:bold;}
</style>
</head>
<body>
<h1>Live AI Models</h1>
<div id="creatorsList"></div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const supabase = supabase.createClient(
  "TU_SUPABASE_URL",
  "TU_SUPABASE_ANON_KEY"
);

const container = document.getElementById("creatorsList");

async function loadLoops(){
    const { data: loops, error } = await supabase.from('loops').select('*').eq('active', true);
    if(error){ console.error(error); return; }

    const owners = [...new Set(loops.map(l=>l.owner))];

    owners.forEach(owner => {
        const card = document.createElement('div');
        card.className = "creator-card";
        const link = document.createElement('a');
        link.href = `/creator/live.html?user=${encodeURIComponent(owner)}`;
        link.innerText = owner + " ðŸ”´ LIVE";
        card.appendChild(link);
        container.appendChild(card);
    });
}

loadLoops();
</script>
</body>
</html>
